<?xml version="1.0" encoding="utf-8" ?>
<!--
  SAMPLE
  Compliant with schema parsed by: NHINDirect.ScriptAgent.SmtpAgentSettings 
  Customize as per your needs
-->
<SmtpAgentConfig>
  <Domains>
    <ServiceResolver>
      <AgentName>Agent1</AgentName>
      <ClientSettings>
        <Url>http://localhost/ConfigService/DomainManagerService.svc/Domains</Url>
      </ClientSettings>
      <CacheSettings>
        <Cache>true</Cache>
        <CacheTTLSeconds>5</CacheTTLSeconds>
      </CacheSettings>
    </ServiceResolver>
  </Domains>
  <DomainManager>
    <Url>http://localhost/ConfigService/DomainManagerService.svc/Domains</Url>
    <Settings>
      <CacheSettings>
        <Cache>true</Cache>
        <CacheTTLSeconds>5</CacheTTLSeconds>
      </CacheSettings>
    </Settings>
  </DomainManager>
  <AddressManager>
    <Url>http://localhost/ConfigService/DomainManagerService.svc/Addresses</Url>
    <Settings>
      <EnableDomainSearch>true</EnableDomainSearch>
      <CacheSettings>
        <Cache>true</Cache>
        <NegativeCache>true</NegativeCache>
        <CacheTTLSeconds>5</CacheTTLSeconds>
      </CacheSettings>
    </Settings>
  </AddressManager>
  <ConfigSettingsManager>
    <ClientSettings>
      <Url>http://localhost/ConfigService/SettingsManager.svc/ConfigSettings</Url>
    </ClientSettings>
    <CacheSettings>
      <Cache>true</Cache>
      <CacheTTLSeconds>60</CacheTTLSeconds>
    </CacheSettings>
  </ConfigSettingsManager>
  <Log>
    <DirectoryPath>C:\inetpub\logs</DirectoryPath>
    <NamePrefix>testSmtpAgent</NamePrefix>
    <RolloverFrequency>Day</RolloverFrequency>
    <Level>Debug</Level>
  </Log>
  <Cryptographer>
    <PluginCryptographer>
      <Definition>
        <TypeName>Health.Direct.Hsm.HsmCryptographerProxy, Health.Direct.Hsm</TypeName>
        <Settings>
          <ClientSettings>
            <Url>http://localhost/ConfigService/SettingsManager.svc/Properties</Url>
            <Settings>
              <CacheSettings>
                <Cache>true</Cache>
                <CacheTTLSeconds>60</CacheTTLSeconds>
              </CacheSettings>
            </Settings>
          </ClientSettings>
        </Settings>
      </Definition>
    </PluginCryptographer>
  </Cryptographer>
  <PrivateCerts>
    <ServiceResolver>
      <ClientSettings>
        <Url>http://localhost/ConfigService/CertificateService.svc/Certificates</Url>
        <Settings>
          <CacheSettings>
            <Cache>true</Cache>
            <CacheTTLSeconds>60</CacheTTLSeconds>
          </CacheSettings>
        </Settings>
      </ClientSettings>
    </ServiceResolver>
    <!--
    <MachineResolver>
      <Name>NHINDPrivate</Name>
    </MachineResolver>
    -->
  </PrivateCerts>
  <PublicCerts>
    <!--
    <DnsResolver>
      <ServerIP>127.0.0.1</ServerIP>
      <Timeout>5000</Timeout>
    </DnsResolver>
    -->
    <MachineResolver>
      <Name>NHINDExternal</Name>
    </MachineResolver>
  </PublicCerts>
  <Anchors>
    <ServiceResolver>
      <ClientSettings>
        <Url>http://localhost/ConfigService/CertificateService.svc/Anchors</Url>
      </ClientSettings>
      <CacheSettings>
        <Cache>true</Cache>
        <NegativeCache>true</NegativeCache>
        <CacheTTLSeconds>60</CacheTTLSeconds>
      </CacheSettings>
    </ServiceResolver>
    <!--
    <MachineResolver>
      <Incoming>
        <Name>NHINDAnchors</Name>
      </Incoming>
      <Outgoing>
        <Name>NHINDAnchors</Name>
      </Outgoing>
    </MachineResolver>
   -->
  </Anchors>
  <CertPolicies>
    <Public>
      <ClientSettings>
        <Url>http://localhost/ConfigService/DomainManagerService.svc/CertPolicies</Url>
      </ClientSettings>
      <CacheSettings>
        <Cache>true</Cache>
        <NegativeCache>true</NegativeCache>
        <CacheTTLSeconds>60</CacheTTLSeconds>
      </CacheSettings>
    </Public>
    <Private>
      <ClientSettings>
        <Url>http://localhost/ConfigService/DomainManagerService.svc/CertPolicies</Url>
      </ClientSettings>
      <CacheSettings>
        <Cache>true</Cache>
        <NegativeCache>true</NegativeCache>
        <CacheTTLSeconds>60</CacheTTLSeconds>
      </CacheSettings>
    </Private>
    <Trust>
      <ClientSettings>
        <Url>http://localhost/ConfigService/DomainManagerService.svc/CertPolicies</Url>
      </ClientSettings>
      <CacheSettings>
        <Cache>true</Cache>
        <NegativeCache>true</NegativeCache>
        <CacheTTLSeconds>60</CacheTTLSeconds>
      </CacheSettings>
    </Trust>
  </CertPolicies>
  <IncomingRoutes>
    <Route>
      <AddressType>XDR</AddressType>
      <CopyFolder>C:\inetpub\mailroot\xdr</CopyFolder>
    </Route>
  </IncomingRoutes>
  <InternalMessage>
    <PickupFolder>C:\inetpub\mailroot\pickup</PickupFolder>
    <EnableRelay>false</EnableRelay>
  </InternalMessage>
  <RawMessage>
    <CopyFolder>C:\inetpub\mailroot\raw</CopyFolder>
  </RawMessage>
  <BadMessage>
    <CopyFolder>C:\inetpub\mailroot\badMail</CopyFolder>
  </BadMessage>
  <ProcessIncoming>
    <CopyFolder>C:\inetpub\mailroot\incoming</CopyFolder>
  </ProcessIncoming>
  <ProcessOutgoing>
    <CopyFolder>C:\inetpub\mailroot\outgoing</CopyFolder>
  </ProcessOutgoing>
</SmtpAgentConfig>
